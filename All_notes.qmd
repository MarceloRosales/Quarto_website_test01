---
title: "All_notes"
---

## Open files

Mac:

```{r}
#| eval: false

Markdown02.docx <- "/Users/marcelorosales/Box Sync/Niigata Uni Box/Books-Notes/Notes/Markdown02.docx"  
Research_map.docx <- "/Users/marcelorosales/Box Sync/Niigata Uni Box/Books-Notes/Notes/Research_map and guide.docx"  
Markdown01.docx <- "/Users/marcelorosales/Box Sync/Niigata Uni Box/Books-Notes/Notes/Markdown01.docx"
Notes <- "/Users/marcelorosales/Box Sync/Niigata Uni Box/Books-Notes/Notes/"
All_notes_draft.qmd <- "/Users/marcelorosales/Box Sync/Niigata Uni Box/Books-Notes/Notes/All_notes_draft.qmd"
All_notes.qmd <- "/Users/marcelorosales/Box Sync/Niigata Uni Box/Books-Notes/Notes/All_notes.qmd"
All.md <- "/Users/marcelorosales/Box Sync/Github/mkdocs/MBA03/docs/All.md"

#open in mac OS
system(paste("open", shQuote(Markdown02.docx)))
system(paste("open", shQuote(Research_map.docx)))
system(paste("open", shQuote(Notes)))
system(paste("open", shQuote(All_notes_draft.qmd)))
system(paste("open", shQuote(All_notes.qmd)))
system(paste("open", shQuote(All.md)))

```

Windows:

```{r}
#| eval: false

file_path <- "/Users/marcelorosales/Box Sync/Niigata Uni Box/Books-Notes/Notes/Markdown01.docx"
shell(paste("start", shQuote(file_path)))
# or 
system(paste("start", shQuote(file_path)))
```

```{html}
#| eval: false

/Users/marcelorosales/Documents/GitHub/Quarto/quarto-trials/quarto_website/qt01.csv



```

**All Notes**\
docx2md_test.docx\
Does Decalcification speed.docx\
GeneExpression analysis.docx\
R Graph Notes.docx\
R Graph Notes.docx\
R Markdown notes.docx\
R Markdown notes.docx\
rmarkdown-brew.docx\
rmarkdown-brew.docx\
Untitled2.docx\
Untitled03.docx\
Untitled04.docx\
reference-keys.txt\
mkdocs.yml\
deforges.pdf\
Introductory R example chapters.pdf\
Introductory R example chapters.pdf rmarkdown-2.0.pdf\
rmarkdown-2.0.pdf\
rmarkdown-cheatsheet.pdf\
rmarkdown-cheatsheet.pdf\
teachR.pdf\
teachR.pdf\
Untitled.pdf

[top](#) \## Files related to markdown. :

Spotlight search: Markdow

**Packages installed in R?**.

[installed_previously.csv](/Users/marcelorosales/Desktop/temp2022027/Box%20Sync/Documents/R/Rmarkdown/installed_previously.csv)\
installed_Rpackages20201004.csv.\
installed_Rpackages20201004.csv.\
installed_Rpackages20210108.csv.\
installed_Rpackages20210108.csv.\
oldRpks.csv.\
oldRpks.csv.

**Notes**\
docx2md_test.docx\
Does Decalcification speed.docx\
GeneExpression analysis.docx\
R Graph Notes.docx\
R Graph Notes.docx\
R Markdown notes.docx\
R Markdown notes.docx\
rmarkdown-brew.docx\
rmarkdown-brew.docx\
Untitled2.docx\
Untitled03.docx\
Untitled04.docx\
reference-keys.txt\
mkdocs.yml\
deforges.pdf\
Introductory R example chapters.pdf\
Introductory R example chapters.pdf rmarkdown-2.0.pdf\
rmarkdown-2.0.pdf\
rmarkdown-cheatsheet.pdf\
rmarkdown-cheatsheet.pdf\
teachR.pdf\
teachR.pdf\
Untitled.pdf

|       | VS code |     |     | Rstudio |     |            |     |            |
|-------|---------|-----|-----|---------|-----|------------|-----|------------|
| code  | md      | Rmd | qmd | md      | Rmd | Rmd visual | qmd | qmd visual |
| r     | o       | o   | o   |         |     | o          |     | o          |
| .r    |         |     |     |         |     |            |     | o          |
| {r}   |         |     | o   | o       | o   |            | o   |            |
| {.r}  |         |     | o   | o       |     | o          |     | o          |
| rev r |         |     |     |         |     | o          |     | o          |

https://tableconvert.com/

| **VS code** | \*\*\*\* | \*\*\*\* | **Rstudio** | \*\*\*\* | \*\*\*\* | \*\*\*\*   | \*\*\*\* |
|---------|---------|---------|---------|---------|---------|---------|---------|
| **code**    | md       | Rmd      | qmd         | md       | Rmd      | Rmd visual | qmd      |
| **r**       | o        | o        | o           |          |          | o          |          |
| **.r**      |          |          |             |          |          |            |          |
| **{r}**     |          |          | o           | o        | o        |            | o        |
| **{.r}**    |          |          | o           | o        |          | o          |          |
| **rev r**   |          |          |             |          |          | o          |          |

```{bash}
#| eval: false

library(readxl)
highlight_long <- read_excel("~/Box Sync/Niigata Uni Box/Books-Notes/Notes/quarto_All.xlsx", 
    sheet = "Sheet2")
View(quarto_All)

library(tidyr)
highlight_wide <- spread(highlight_long, Soft, file, chunk, color)

```

```{r}
#| eval: false

library(tidyverse)

# Create a data frame with the long-form table
df <- data.frame(
  Soft = c("VS code", "VS code", "VS code", "VS code", "VS code", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio", "Rstudio"),
  file = c("md", "md", "md", "md", "md", "md", "md", "md", "md", "md", "Rmd", "Rmd", "Rmd", "Rmd", "Rmd", "Rmd", "Rmd", "Rmd", "Rmd", "Rmd", "Rmd", "Rmd", "Rmd", "Rmd", "Rmd", "Rmd", "Rmd", "Rmd", "Rmd", "Rmd"),
  chunk = c("r", ".r", "{r}", "{.r}", "rev r", "r", ".r", "{r}", "{.r}", "rev r", "r", ".r", "{r}", "{.r}", "rev r", "r", ".r", "{r}", "{.r}", "rev r", "r", ".r", "{r}", "{.r}", "rev r", "r", ".r", "{r}", "{.r}", "rev r"),
  color = c(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 1, 0, 1, 1, 1)
)

# Convert the table to wide form
df_wide <- df %>%
  pivot_wider(names_from = chunk, values_from = color)

# Print the resulting wide-form table
print(df_wide)
```

### Tables

[The function knitr::kable()](https://bookdown.org/yihui/rmarkdown-cookbook/kable.html)

[Create Awesome HTML Table with knitr::kable and kableExtra](https://haozhu233.github.io/kableExtra/awesome_table_in_html.html)

[Create Awesome LaTeX Table (PDF) with knitr::kable() and kableExtra](http://haozhu233.github.io/kableExtra/awesome_table_in_pdf.pdf)

[kableExtra README.md](https://rdrr.io/cran/kableExtra/f/README.md)

[Other packages for creating tables](https://bookdown.org/yihui/rmarkdown-cookbook/table-other.html)

::: {.callout-tip collapse="true" style="gray"}
## markdown tables

Web page based table converters from excel or other.
:::

[Table convert webpage](https://tableconvert.com/)

[Table to Markdown](https://tabletomarkdown.com/) webpage

VS code extension: [Excel to Markdown table](https://marketplace.visualstudio.com/items?itemName=csholmq.excel-to-markdown-table) (used inspect in chrome to take the gif address).

::: panel-tabset
## html block

```{=html}
<img src="https://user-images.githubusercontent.com/1297882/35767301-2fd0c490-08ea-11e8-89d7-933238fed3f2.gif" alt="excel-to-markdown-table">
```
## img block

![](https://user-images.githubusercontent.com/1297882/35767301-2fd0c490-08ea-11e8-89d7-933238fed3f2.gif){fig-alt="excel-to-markdown-table" width="500"}
:::

#### Summary

```{r}

# knitr::Kable... simple, html, rst. ok but latex doesn't work
knitr::kable(mtcars[1:5, 1:4], "pipe", align = "c")  

# kableExtra
library(kableExtra)
kbl(mtcars[1:5, 1:4], caption = "Demo Table")

# DT::datatable  (Onlyone that shows table correctly in )
library(DT)
datatable(head(mtcars[1:5, 1:4]))


```

```{html}

/Users/marcelorosales/Documents/GitHub/Quarto/quarto-trials/quarto_website/xls2wb.htm
```

#### Table from csv file

##### Kable()

[Designing tables in R with "knitr" and "kableExtra" \| R Tutorial (2021)](https://www.youtube.com/watch?v=JqUViTDoSEo)

<iframe width="560" height="315" src="https://www.youtube.com/embed/JqUViTDoSEo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen>

</iframe>

```{r}
data <- read.csv("/Users/marcelorosales/Documents/GitHub/Quarto/quarto-trials/quarto_website/qt01.csv")

head(data) # As simple table
# str(data)

# Using kable()
df <- knitr::kable(data, "pipe", align = "c")
knitr::kable(data, "pipe", align = "c")
knitr::kable(data, "simple", align = "c")
knitr::kable(data, "html", align = "c")
knitr::kable(data, "latex", align = "c")
knitr::kable(data, "rst", align = "c")

```

##### ExtraKable()

\[ \] Check also: [Making tables in the rstats package kableExtra for Oregon by the Numbers](https://www.youtube.com/watch?v=RLdQ-SP3zdQ)\
\[ \] [Create Awesome HTML Table with knitr::kable and kableExtra](https://haozhu233.github.io/kableExtra/awesome_table_in_html.html)

Example:

Install and Load Packages if required

```{r}
#| warning: false


# install.packages("kableExtra")
# install.packages("AER")
# install.packages("tinytex")
# install.packages("DT")
library(kableExtra)
library(magrittr)
library(shiny)
library(knitr)
library(tinytex)
library(AER)
library(tidyverse)
library(DT)
help("kableExtra")
help("kable")

```

Example with mtcars frame

```{r}
# HTML table
dt2 <- mtcars[1:5, 1:4]
dt <- head(mtcars)
# rm(dt)
# rm(dt2)


kbl(dt, caption = "Demo Table")

kbl(dt, caption = "Demo Table") %>%
  kable_styling(bootstrap_options = "striped",
                full_width = F) %>%
  add_header_above(c(" ", "Group 1" = 2, "Group 2[note]" = 2, "group 3" = 7)) %>%
  footnote(c("table footnote"))

# LaTeX Table
kbl(dt2, booktabs = T, caption = "Demo Table") %>%
  kable_styling(latex_options = c("striped", "hold_position"),
                full_width = F) %>%
  add_header_above(c(" ", "Group 1" = 2, "Group 2[note]" = 2)) %>%
  footnote(c("table footnote"))
```

```{r}
library(kableExtra)

# HTML table
kbl(mtcars[1:5, 1:4], caption = "Demo Table") %>%
  kable_styling(bootstrap_options = "striped",
                full_width = F) %>%
  add_header_above(c(" ", "Group 1" = 2, "Group 2[note]" = 2)) %>%
  footnote(c("table footnote"))

# LaTeX Table
kbl(mtcars[1:5, 1:4], booktabs = T, caption = "Demo Table") %>%
  kable_styling(latex_options = c("striped", "hold_position"),
                full_width = F) %>%
  add_header_above(c(" ", "Group 1" = 2, "Group 2[note]" = 2)) %>%
  footnote(c("table footnote"))

```

With Kable

```{r}
#| eval: false
library(kableExtra)
help("kable")

## Not working!!! 

x <- knitr::kable(head(mtcars), "pipe")
x  # works fine up to here


# Add a row of header with 3 columns on the top of the table. The column
# span for the 2nd and 3rd one are 5 & 6.
add_header_above(x, c(" ", "Group1" = 5, "Group2" = 6))

y <- add_header_above(x, c(" ", "Group 1" = 5, "Group 2" = 6))
y

z <- head(mtcars) 


z <- as.data.frame(head(mtcars)) %>% 
  kbl() %>% 
  add_header_above(z, c(" ", "Group1" = 5, "Group2" = 6))

```

##### DT::datatable

```{r}
DT::datatable(iris)

datatable(head(mtcars))
```

#### Convert wide data frame to long data frame

Example:

```{r}
library(tidyverse)

# Example wide data frame
wide_df <- data.frame(
  id = c(1, 2, 3),
  var1 = c(10, 20, 30),
  var2 = c(40, 50, 60),
  var3 = c(70, 80, 90)
)


wide_df

# Convert wide data frame to long
long_df <- wide_df %>%
  pivot_longer(
    cols = starts_with("var"),  # Specify the columns to pivot
    names_to = "variable",      # Name of the new variable column
    values_to = "value"         # Name of the new value column
  )

# View the resulting long data frame
print(long_df)

knitr::kable(wide_df, "pipe", align = "c")
knitr::kable(long_df, "pipe", align = "c")


```

```{r}
#| eval: false

# Error: Values are not numeric. 
# ! Can't subset columns with `data`.
# ✖ `data` must be numeric or character, not a <data.frame> object.
# ! Arguments in `...` must be used.


library(tidyverse)
data_long <- data %>%
  pivot_longer(
    data,
    2:9,
    names_to = "Programm",
    values_to = "values"
  )




```

### Changing language of R and Rstudio

> Requires re-start app.

```{r}
#| eval: false
# Set r environment to english

Sys.setenv(LANG = "en")

```

```{bash}
#| eval: false

defaults write org.R-project.R force.LANG en_US.UTF-8  # 英語表示

```

------------------------------------------------------------------------
